(this.webpackJsonpdnd=this.webpackJsonpdnd||[]).push([[0],{106:function(e,t){},107:function(e,t){},108:function(e,t){},113:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(22),i=n.n(r),s=n(11),o=n(12),l=n(14),j=n(13),u=n(25),d=n(117),b=n(2),p=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{style:f.container,children:Object(b.jsx)("canvas",{id:"canvas"})})}}]),n}(a.a.Component),f={container:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}},h=p,O=n(119),v=n(118),g=n(65),x=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"addObject",value:function(){this.props.canvas.add(this.createObject())}}]),n}(a.a.Component),k=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"createObject",value:function(){return new u.fabric.Circle(m)}},{key:"render",value:function(){var e=this;return Object(b.jsx)(O.a,{title:"Create circle",children:Object(b.jsx)(v.a,{onClick:function(){return e.addObject()},icon:Object(b.jsx)(g.a,{})})})}}]),n}(x),m={radius:20,fill:"transparent",stroke:"#282828",left:100,top:100,strokeUniform:!0},y=k,C=n(90),w=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"createObject",value:function(){return new u.fabric.Rect(A)}},{key:"render",value:function(){var e=this;return Object(b.jsx)(O.a,{title:"Create rectangle",children:Object(b.jsx)(v.a,{onClick:function(){return e.addObject()},icon:Object(b.jsx)(C.a,{})})})}}]),n}(x),A={fill:"transparent",stroke:"#282828",left:100,top:100,height:40,width:40,strokeUniform:!0,strokeWidth:2,zoomX:2,zoomY:2},R=w,L=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"createObject",value:function(){return new u.fabric.IText("Lorem Ipsum",D)}},{key:"render",value:function(){var e=this;return Object(b.jsx)(O.a,{title:"Create text",style:{display:"flex",flexDirection:"column"},children:Object(b.jsx)(v.a,{onClick:function(){return e.addObject()},icon:Object(b.jsx)(g.b,{})})})}}]),n}(x),D={fontFamily:"Cascadia Code",fontSize:20},E=L,z=n(45),S=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"createObject",value:function(){return new u.fabric.Path("M 0 0 L 50 0 M 0 0 L 4 -3 M 0 0 L 4 3 z",{left:100,top:100,stroke:"red",strokeWidth:1,fill:!1})}},{key:"render",value:function(){var e=this;return Object(b.jsx)(O.a,{title:"Create circle",children:Object(b.jsx)(v.a,{onClick:function(){return e.addObject()},icon:Object(b.jsx)(z.c,{})})})}}]),n}(x),I=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{style:q.container,children:[Object(b.jsx)(y,{canvas:this.props.canvas}),Object(b.jsx)(R,{canvas:this.props.canvas}),Object(b.jsx)(E,{canvas:this.props.canvas}),Object(b.jsx)(S,{canvas:this.props.canvas})]})}}]),n}(a.a.Component),q={container:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}},U=I,T=n(54),Y=n(116),M=n(115),P=n(56),X=n(42),B=n(79),H=n(92),W=n(80),F=(Y.a.Option,function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).deleteObjects=function(){e.props.canvas.getActiveObjects().forEach((function(t){return e.props.canvas.remove(t)})),e.props.canvas.renderAll()},e.groupObjects=function(){var t=e.props.canvas.getActiveObjects();if(t.length>1){console.log("chek");var n=new u.fabric.Group(t,{left:200,top:200});console.log(n)}},e.ungroupObjects=function(){e.props.canvas.getActiveObjects().forEach((function(t){if("group"===t.type){var n;t.destroy();var c=t.getObjects();e.props.canvas.remove(t),(n=e.props.canvas).add.apply(n,Object(T.a)(c)),t=null,e.props.canvas.requestRenderAll()}}))},e.clearAll=function(){e.props.canvas.clear(),e.props.canvas.set("backgroundColor","white")},e.setLandscape=function(){e.state.isLandscape||(e.setState({isLandscape:!0}),e.props.canvas.setHeight(434),e.props.canvas.setWidth(600))},e.setPortrait=function(){e.state.isLandscape&&(e.setState({isLandscape:!1}),e.props.canvas.setHeight(600),e.props.canvas.setWidth(434))},e.align=function(t){var n,c,a,r,i,s,o=e.props.canvas.getActiveObjects();if(!(o.length<=1))switch(t){case"left":n=0,o.forEach((function(e){e.left<n&&(n=e.left)})),o.forEach((function(e){e.set("left",n)})),e.props.canvas.requestRenderAll();break;case"right":c=0,o.forEach((function(e){e.left+e.width*e.zoomX>c&&(c=e.left+e.width*e.zoomX)})),o.forEach((function(e){e.set("left",c-e.width*e.zoomX)})),e.props.canvas.requestRenderAll();break;case"top":r=0,o.forEach((function(e){e.top<r&&(r=e.top)})),o.forEach((function(e){e.set("top",r)})),e.props.canvas.requestRenderAll();break;case"bottom":i=0,o.forEach((function(e){e.top+e.height*e.zoomY>i&&(i=e.top+e.height*e.zoomY)})),console.log("ini bottom: ",i),o.forEach((function(e){e.set("top",i-e.height*e.zoomY)})),e.props.canvas.requestRenderAll();break;case"center":n=0,c=0,0,o.forEach((function(e){e.left<n&&(n=e.left),e.left+e.width*e.zoomX>c&&(c=e.left+e.width*e.zoomX)})),a=(n+c)/2,o.forEach((function(e){e.set("left",a-e.width*e.scaleX/2)})),e.props.canvas.requestRenderAll();break;case"middle":r=0,i=0,0,o.forEach((function(e){e.top<r&&(r=e.top),e.top+e.height*e.zoomY>i&&(i=e.top+e.height*e.zoomY)})),s=(r+i)/2,o.forEach((function(e){e.set("top",s-e.width*e.scaleY/2)})),e.props.canvas.requestRenderAll()}},e.order=function(t){var n=e.props.canvas.getActiveObject();switch(t){case"front":n&&e.props.canvas.bringToFront(n).requestRenderAll();break;case"back":n&&e.props.canvas.sendToBack(n).requestRenderAll();break;case"forward":n&&e.props.canvas.bringForward(n).requestRenderAll();break;case"backward":n&&e.props.canvas.sendBackwards(n).requestRenderAll()}},e.check=function(){e.props.canvas.getActiveObjects().forEach((function(e){return console.log(e.zoomY)}))},e.state={isLandscape:!1},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{style:G.container,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(O.a,{title:"Send backwards",children:Object(b.jsx)(v.a,{onClick:function(){return e.order("backward")},icon:Object(b.jsx)(P.a,{})})}),Object(b.jsx)(O.a,{title:"Bring forward",children:Object(b.jsx)(v.a,{onClick:function(){return e.order("forward")},icon:Object(b.jsx)(P.b,{})})}),Object(b.jsx)(O.a,{title:"Bring to front",children:Object(b.jsx)(v.a,{onClick:function(){return e.order("front")},icon:Object(b.jsx)(P.d,{})})}),Object(b.jsx)(O.a,{title:"Send to back",children:Object(b.jsx)(v.a,{onClick:function(){return e.order("back")},icon:Object(b.jsx)(P.c,{})})})]}),Object(b.jsx)(M.a,{type:"vertical"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(O.a,{title:"Landscape",children:Object(b.jsx)(v.a,{type:this.state.isLandscape&&"primary",onClick:function(){return e.setLandscape()},icon:Object(b.jsx)(B.a,{})})}),Object(b.jsx)(O.a,{title:"portrait",children:Object(b.jsx)(v.a,{type:!this.state.isLandscape&&"primary",onClick:function(){return e.setPortrait()},icon:Object(b.jsx)(B.b,{})})})]}),Object(b.jsx)(M.a,{type:"vertical"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(O.a,{title:"Group",children:Object(b.jsx)(v.a,{onClick:function(){return e.groupObjects()},icon:Object(b.jsx)(W.a,{})})}),Object(b.jsx)(O.a,{title:"Ungroup",children:Object(b.jsx)(v.a,{onClick:function(){return e.ungroupObjects()},icon:Object(b.jsx)(W.b,{})})})]}),Object(b.jsx)(M.a,{type:"vertical"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(O.a,{title:"Align left",children:Object(b.jsx)(v.a,{onClick:function(){return e.align("left")},icon:Object(b.jsx)(X.c,{})})}),Object(b.jsx)(O.a,{title:"Align center",children:Object(b.jsx)(v.a,{onClick:function(){return e.align("center")},icon:Object(b.jsx)(X.b,{})})}),Object(b.jsx)(O.a,{title:"Align right",children:Object(b.jsx)(v.a,{onClick:function(){return e.align("right")},icon:Object(b.jsx)(X.e,{})})}),Object(b.jsx)(O.a,{title:"Align top",children:Object(b.jsx)(v.a,{onClick:function(){return e.align("top")},icon:Object(b.jsx)(X.f,{})})}),Object(b.jsx)(O.a,{title:"Align middle",children:Object(b.jsx)(v.a,{onClick:function(){return e.align("middle")},icon:Object(b.jsx)(X.d,{})})}),Object(b.jsx)(O.a,{title:"Align bottom",children:Object(b.jsx)(v.a,{onClick:function(){return e.align("bottom")},icon:Object(b.jsx)(X.a,{})})})]}),Object(b.jsx)(M.a,{type:"vertical"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(O.a,{title:"Clear selected",children:Object(b.jsx)(v.a,{onClick:function(){return e.deleteObjects()},icon:Object(b.jsx)(H.a,{})})}),Object(b.jsx)(O.a,{title:"Clear all",children:Object(b.jsx)(v.a,{onClick:function(){return e.clearAll()},icon:Object(b.jsx)(z.a,{})})})]})]})}}]),n}(a.a.Component)),G={container:{display:"flex",justifyContent:"center",alignItems:"center"},item:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:"10px"},tag:{color:"white",marginRight:"5px"},select:{width:"120px"}},J=F,K=n(82),N=n(97),Q=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).dropRef=a.a.createRef(),e.fileRef=a.a.createRef(),e.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},e.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),e.setState({isDragging:!0})},e.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),e.setState({isDragging:!1})},e.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation(),e.setState({isDragging:!1}),t.dataTransfer.files&&1===t.dataTransfer.files.length){var n=t.dataTransfer.files[0];if("image/png"!==n.type||"image/jpeg"!==n.type)return void N.b.error("Unsupported format");if(!(n.size/1024/1024<5))return void N.b.error("Limited to ".concat(5,"MB or less"));e.setState({images:[].concat(Object(T.a)(e.state.images),[t.dataTransfer.files[0]])}),t.dataTransfer.clearData()}},e.addImage=function(t){var n=URL.createObjectURL(t);new u.fabric.Image.fromURL(n,(function(t){t.scaleX=.5,t.scaleY=.5,e.props.canvas.add(t),e.props.canvas.requestRenderAll()}))},e.clickHandler=function(t){e.fileRef.current.click()},e.fileHandler=function(t){if(t.preventDefault(),t.stopPropagation(),t.target.files&&1===t.target.files.length){var n=t.target.files[0];if(!(n.size/1024/1024<5))return void N.b.error("Limited to ".concat(5,"MB or less"));e.setState({images:[].concat(Object(T.a)(e.state.images),[n])})}},e.state={images:[],isDragging:!1},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{ref:this.dropRef,style:V.div,onClick:function(){return e.fileRef.current.click()},children:[Object(b.jsx)(z.b,{}),Object(b.jsx)("h5",{children:"Click or drag and drop to upload image"}),Object(b.jsx)("input",{ref:this.fileRef,type:"file",accept:".png, .jpg, .jpeg",style:V.input,onChange:this.fileHandler})]}),Object(b.jsx)("div",{children:this.state.images.map((function(t,n){return Object(b.jsx)("div",{onClick:function(){return e.addImage(t)},style:Object(K.a)(Object(K.a)({},V.preview),{},{backgroundImage:"url(".concat(URL.createObjectURL(t),")")})},n)}))})]})}}]),n}(x),V={div:{width:"100px",height:"100px",border:"2px black dotted",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},input:{width:"100%",height:"100px",display:"none"},preview:{height:"50px",width:"50px",backgroundSize:"cover"}},Z=Q,$=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(Z,{canvas:this.props.canvas})}}]),n}(a.a.Component),_=d.a.Header,ee=(d.a.Footer,d.a.Sider),te=d.a.Content,ne=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).check=function(){null===e.state.currentObject?console.log("null"):console.log(e.state.currentObject)},e.state={canvas:{},currentObject:null},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new u.fabric.Canvas("canvas",ae);t.on("mouse:up",(function(){var n=t.getActiveObjects();1===n.length&&"group"!==n[0].get("type")?e.setState({currentObject:t.getActiveObject()}):e.setState({currentObject:null})})),this.setState({canvas:t})}},{key:"render",value:function(){var e=this.state,t=e.canvas,n=e.currentObject;return Object(b.jsxs)(d.a,{style:ce.layout,children:[Object(b.jsx)(_,{style:ce.header,children:Object(b.jsx)(J,{canvas:t})}),Object(b.jsxs)(d.a,{style:ce.layout,children:[Object(b.jsx)(ee,{style:ce.sider,children:Object(b.jsx)($,{canvas:t,currentObject:n})}),Object(b.jsx)(te,{style:ce.content,children:Object(b.jsx)(h,{canvas:t})}),Object(b.jsx)(ee,{style:ce.sider,children:Object(b.jsx)(U,{canvas:t})})]})]})}}]),n}(a.a.Component),ce={layout:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"darkgray"},content:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{width:"100%"},sider:{height:"100%",backgroundColor:"gray",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"20px"}},ae={backgroundColor:"white",height:"600",width:"434",preserveObjectStacking:!0},re=ne,ie=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(re,{})})}}]),n}(a.a.Component);n(112);i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(ie,{})}),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.413b8bf6.chunk.js.map